<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Rocket Clicker ‚Äî Orbital Edition</title>
  <style>
    :root{
      --bg-1: #071428; --bg-2:#0b2440; --panel:#071a2a; --accent:#7ef0ff; --accent2:#ff7ab6; --muted:#9db7ce;
      --glass: rgba(255,255,255,0.03); --glass-2: rgba(255,255,255,0.02);
      font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:radial-gradient(1000px 600px at 10% 10%, rgba(126,240,255,0.04), transparent), linear-gradient(180deg,var(--bg-1),var(--bg-2));color:#e8f7ff}

    /* Layout */
    #game{display:flex;height:100vh;gap:12px;padding:18px}
    #left{flex:2;display:flex;align-items:center;justify-content:center;position:relative}
    #right{width:360px;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);border-radius:14px;padding:18px;box-shadow:0 12px 40px rgba(2,6,23,0.6);border:1px solid rgba(255,255,255,0.03);overflow:auto}

    /* Title */
    .title{position:absolute;left:28px;top:24px;font-weight:800;font-size:20px;color:var(--accent);text-shadow:0 6px 30px rgba(0,0,0,0.6)}

    /* Rocket stage */
    .stage{width:100%;max-width:900px;height:620px;border-radius:18px;background:linear-gradient(180deg,rgba(255,255,255,0.01),rgba(0,0,0,0.06));display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;border:1px solid rgba(255,255,255,0.03)}

    /* Rocket image (centered & larger) */
    #rocket{width:420px;height:auto;cursor:pointer;transform-origin:center bottom;transition:transform .18s cubic-bezier(.2,.9,.2,1), filter .2s}

    /* idle bob */
    @keyframes bob {0%{transform:translateY(0)}50%{transform:translateY(-8px)}100%{transform:translateY(0)}}
    #rocket.idle{animation:bob 2200ms ease-in-out infinite}

    /* rocking left-right on click */
    @keyframes rockLeft{0%{transform:rotate(0)}30%{transform:rotate(-12deg)}60%{transform:rotate(6deg)}100%{transform:rotate(0)}}
    @keyframes rockRight{0%{transform:rotate(0)}30%{transform:rotate(12deg)}60%{transform:rotate(-6deg)}100%{transform:rotate(0)}}
    #rocket.rock-left{animation:rockLeft 650ms cubic-bezier(.2,.9,.2,1)}
    #rocket.rock-right{animation:rockRight 650ms cubic-bezier(.2,.9,.2,1)}

    /* flame particles */
    .flame{position:absolute;bottom:92px;width:14px;height:28px;border-radius:50%;opacity:0.95;filter:drop-shadow(0 12px 20px rgba(255,120,60,0.25));}

    /* stats pinned right edge (thin column) */
    #stats{position:fixed;right:12px;top:12px;width:220px;text-align:right;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.03)}
    #stats div{font-weight:700;color:var(--muted);font-size:13px}
    #stats strong{display:block;color:var(--accent);font-size:18px}

    /* upgrades list */
    .section-title{font-size:12px;color:var(--muted);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px}
    .upgrades{display:grid;grid-template-columns:1fr;gap:8px}
    .upgrade{display:flex;gap:10px;align-items:center;padding:10px;border-radius:10px;background:var(--glass-2);border:1px solid rgba(255,255,255,0.02);transition:transform .12s, box-shadow .12s}
    .upgrade:hover{transform:translateY(-4px);box-shadow:0 10px 30px rgba(0,0,0,0.45)}
    .up-ico{width:48px;height:48px;border-radius:8px;background:linear-gradient(180deg,var(--accent),var(--accent2));display:flex;align-items:center;justify-content:center;font-weight:900}
    .up-info{flex:1}
    .up-info .name{font-weight:800}
    .up-cost{min-width:80px;text-align:right;font-weight:800;color:var(--accent2)}
    .buy{background:linear-gradient(90deg,var(--accent),var(--accent2));border:none;padding:8px 10px;border-radius:8px;color:#071428;font-weight:800;cursor:pointer}

    /* footer small */
    .controls{display:flex;gap:8px;margin-top:12px}
    .ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);padding:8px 10px;border-radius:8px;color:var(--muted);cursor:pointer}

    /* responsive */
    @media(max-width:1000px){#right{width:320px} #rocket{width:320px}}
  </style>
</head>
<body>
  <div id="game">
    <div id="left">
      <div class="title">üöÄ Rocket Clicker ‚Äî Orbital Edition</div>
      <div class="stage" id="stage">
        <!-- Rocket PNG (use container path) -->
        <img id="rocket" class="idle" src="/mnt/data/pngegg.png" alt="Rocket PNG">
        <!-- flame container (particles inserted via JS) -->
      </div>
    </div>

    <aside id="right">
      <div class="section-title">Upgrades</div>
      <div class="upgrades" id="upgrades"></div>

      <div style="height:10px"></div>
      <div class="section-title">Prestige / Rebirth</div>
      <div style="display:flex;gap:8px;align-items:center;justify-content:space-between;margin-bottom:8px">
        <div style="color:var(--muted)">Rebirths give permanent multiplier</div>
        <button class="buy" id="rebirthBtn">Rebirth</button>
      </div>

      <div class="section-title">Save / Export</div>
      <div class="controls">
        <button class="ghost" id="saveBtn">Save</button>
        <button class="ghost" id="exportBtn">Export</button>
        <button class="ghost" id="importBtn">Import</button>
      </div>

      <div style="height:20px"></div>
      <div style="color:var(--muted);font-size:12px">Version 2 ‚Äî More grind, lots of upgrades, animations</div>
    </aside>

    <div id="stats">
      <div>Fuel <strong id="fuel">0</strong></div>
      <div>Fuel / sec <strong id="cps">0</strong></div>
      <div>Clicks <strong id="clicks">0</strong></div>
      <div>Rebirths <strong id="rebirths">0</strong></div>
    </div>
  </div>

  <script>
    // --- Game state ---
    const SAVE_KEY = 'rocket_clicker_orbital_v2';
    let state = {
      fuel: 0,
      clicks: 0,
      cps: 0,
      rebirths: 0,
      multiplier: 1,
      producers: {},
      upgradesBought: {}
    };

    // --- Upgrades (24 items, icons are emojis for simplicity) ---
    const ALL_UPGRADES = [
      {id:'u1', name:'Mini Booster', cost:200, cps:0.3, icon:'üî•'},
      {id:'u2', name:'Double Nozzle', cost:900, cps:1, icon:'üîß'},
      {id:'u3', name:'Ion Injector', cost:3200, cps:4, icon:'‚ö°'},
      {id:'u4', name:'Space Drone', cost:12000, cps:12, icon:'ü§ñ'},
      {id:'u5', name:'Cargo Bay', cost:48000, cps:40, icon:'üì¶'},
      {id:'u6', name:'Satellite Array', cost:200000, cps:140, icon:'üõ∞Ô∏è'},
      {id:'u7', name:'Fuel Planet', cost:900000, cps:480, icon:'ü™ê'},
      {id:'u8', name:'Dyson Extractor', cost:4_200_000, cps:2000, icon:'üí†'},
      {id:'u9', name:'Antimatter Pump', cost:18_000_000, cps:9000, icon:'‚ú®'},
      {id:'u10', name:'Warp Harvester', cost:80_000_000, cps:42000, icon:'üåÄ'},
      {id:'u11', name:'Quantum Filter', cost:320_000_000, cps:180_000, icon:'üîÆ'},
      {id:'u12', name:'Genesis Core', cost:1_500_000_000, cps:820_000, icon:'üî±'},
      {id:'u13', name:'Micro-Fusion Grid', cost:6_600_000_000, cps:3_600_000, icon:'üî•üî•'},
      {id:'u14', name:'Stellar Farm', cost:30_000_000_000, cps:16_000_000, icon:'üåü'},
      {id:'u15', name:'Blackhole Tap', cost:120_000_000_000, cps:85_000_000, icon:'üï≥Ô∏è'},
      {id:'u16', name:'Temporal Condenser', cost:500_000_000_000, cps:430_000_000, icon:'‚è≥'},
      {id:'u17', name:'Cosmic Orchard', cost:2_100_000_000_000, cps:2_200_000_000, icon:'üåå'},
      {id:'u18', name:'Nebula Refinery', cost:9_000_000_000_000, cps:11_000_000_000, icon:'‚òÅÔ∏è'},
      {id:'u19', name:'Gravity Well', cost:40_000_000_000_000, cps:60_000_000_000, icon:'üî©'},
      {id:'u20', name:'Dark Energy Mine', cost:180_000_000_000_000, cps:340_000_000_000, icon:'üåë'},
      {id:'u21', name:'Multiverse Farms', cost:800_000_000_000_000, cps:2_000_000_000_000, icon:'ü™û'},
      {id:'u22', name:'Singularity Engine', cost:3_600_000_000_000_000, cps:8_500_000_000_000, icon:'‚öôÔ∏è'},
      {id:'u23', name:'Omega Extractor', cost:16_000_000_000_000_000, cps:40_000_000_000_000, icon:'üî±üî±'},
      {id:'u24', name:'Reality Forge', cost:75_000_000_000_000_000, cps:200_000_000_000_000, icon:'üî•üîÆ'}
    ];

    // Utility: format large numbers
    function fmt(n){
      if (n < 1000) return Math.floor(n);
      const units = ['K','M','B','T','Qa','Qi','Sx','Sp','Oc','No'];
      let p = 0; let v = n;
      while(v >= 1000 && p < units.length-1){ v /= 1000; p++; }
      return v.toFixed(v<10?2:1) + units[p-1];
    }

    // --- Rendering upgrades ---
    const upgradesEl = document.getElementById('upgrades');
    function renderUpgrades(){
      upgradesEl.innerHTML = '';
      ALL_UPGRADES.forEach(u => {
        const div = document.createElement('div');
        div.className = 'upgrade';

        const ico = document.createElement('div'); ico.className='up-ico'; ico.textContent = u.icon;
        const info = document.createElement('div'); info.className='up-info';
        const name = document.createElement('div'); name.className='name'; name.textContent = u.name;
        const desc = document.createElement('div'); desc.style.fontSize='13px'; desc.style.color='var(--muted)'; desc.textContent = `+${fmt(u.cps)} cps`;
        info.appendChild(name); info.appendChild(desc);

        const right = document.createElement('div'); right.style.display='flex'; right.style.flexDirection='column'; right.style.alignItems='flex-end';
        const cost = document.createElement('div'); cost.className='up-cost'; cost.textContent = fmt(u.cost);
        const btn = document.createElement('button'); btn.className='buy'; btn.textContent='Buy';
        btn.onclick = ()=>buyUpgrade(u.id);
        right.appendChild(cost); right.appendChild(btn);

        div.appendChild(ico); div.appendChild(info); div.appendChild(right);
        upgradesEl.appendChild(div);
      });
    }

    // --- Buy logic ---
    function buyUpgrade(id){
      const u = ALL_UPGRADES.find(x=>x.id===id);
      if(!u) return;
      if(state.fuel < u.cost) { flashInsufficient(); return; }
      state.fuel -= u.cost;
      state.cps += u.cps;
      // scale cost up aggressively for grind
      u.cost = Math.floor(u.cost * 2.5);
      state.upgradesBought[id] = (state.upgradesBought[id] || 0) + 1;
      saveStateDebounced(); renderAll();
      spawnFlames(6);
    }

    // --- Rocket click handling (rock side-to-side each click) ---
    const rocketEl = document.getElementById('rocket');
    let rockToggle = false;
    rocketEl.addEventListener('click', ()=>{
      state.fuel += 1 * state.multiplier; state.clicks++;
      // toggle rock direction
      rocketEl.classList.remove('idle','rock-left','rock-right');
      rockToggle = !rockToggle;
      rocketEl.classList.add(rockToggle? 'rock-left' : 'rock-right');
      setTimeout(()=>{ rocketEl.classList.remove('rock-left','rock-right'); rocketEl.classList.add('idle'); }, 680);
      spawnFlames(8);
      renderAll();
    });

    // --- Flame particles ---
    const stage = document.getElementById('stage');
    function spawnFlames(n){
      for(let i=0;i<n;i++){
        const p = document.createElement('div'); p.className='flame';
        const size = 12 + Math.random()*28; p.style.width = size+'px'; p.style.height = size*1.6+'px';
        const hue = Math.random()>0.5 ? 'linear-gradient(180deg,#ffb86b,#ff6b6b)' : 'linear-gradient(180deg,#ffd36b,#ff7ab6)';
        p.style.left = `calc(50% - ${size/2}px + ${Math.random()*80-40}px)`;
        p.style.bottom = '88px';
        p.style.background = hue; stage.appendChild(p);
        const dx = (Math.random()-0.5)*200; const dy = 120 + Math.random()*140; const rot = (Math.random()-0.5)*720;
        p.animate([{transform:'translateY(0) rotate(0) scale(1)', opacity:1},{transform:`translate(${dx}px, -${dy}px) rotate(${rot}deg) scale(.4)`, opacity:0}],{duration:600+Math.random()*600,easing:'cubic-bezier(.2,.9,.2,1)'});
        setTimeout(()=>p.remove(),1300);
      }
    }

    // flash insufficient funds
    function flashInsufficient(){
      const s = document.getElementById('stats'); s.animate([{boxShadow:'0 0 0 rgba(255,0,0,0)'},{boxShadow:'0 0 20px rgba(255,80,80,0.6)'}],{duration:350,iterations:1});
    }

    // --- Passive production tick ---
    setInterval(()=>{
      // production slowed to make it grindier
      state.fuel += state.cps * 0.5;
      renderAll();
    },1000);

    // render top-level
    function renderAll(){
      document.getElementById('fuel').textContent = Math.floor(state.fuel).toLocaleString();
      document.getElementById('cps').textContent = fmt(state.cps*0.5);
      document.getElementById('clicks').textContent = state.clicks.toLocaleString();
      document.getElementById('rebirths').textContent = state.rebirths;
      // update upgrade costs display
      Array.from(upgradesEl.children).forEach((div, idx)=>{
        const costEl = div.querySelector('.up-cost'); costEl.textContent = fmt(ALL_UPGRADES[idx].cost);
      });
    }

    // --- Rebirth / Prestige ---
    document.getElementById('rebirthBtn').addEventListener('click', ()=>{
      // cost grows large
      const req = 50_000_000 * Math.pow(5, state.rebirths);
      if(state.fuel < req){ alert(`Need ${fmt(req)} fuel to rebirth`); return; }
      // perform rebirth
      state.rebirths++;
      state.multiplier += 0.5; // small permanent boost
      state.fuel = 0; state.cps = 0; state.upgradesBought = {};
      // reset upgrade costs to base values
      ALL_UPGRADES.forEach((u, i)=>{ /* rebuild base costs from id pattern */
        // naive reset based on index ranges for balanced feel
        const base = [200,900,3200,12000,48000,200000,900000,4200000,18000000,80000000,320000000,1500000000,6600000000,30000000000,120000000000,500000000000,2100000000000,9000000000000,40000000000000,180000000000000,800000000000000,3600000000000000,16000000000000000,75000000000000000];
        u.cost = base[i];
      });
      saveStateDebounced(); renderAll(); renderUpgrades();
      toast('Rebirth! multiplier increased');
    });

    // small toast
    function toast(txt){ const t=document.createElement('div'); t.textContent=txt; Object.assign(t.style,{position:'fixed',left:'50%',transform:'translateX(-50%)',bottom:'24px',background:'linear-gradient(90deg,var(--accent),var(--accent2))',padding:'10px 16px',borderRadius:'999px',color:'#021428',fontWeight:800,boxShadow:'0 12px 40px rgba(0,0,0,0.5)',zIndex:9999}); document.body.appendChild(t); setTimeout(()=>{t.style.opacity=0;t.style.transform='translateX(-50%) translateY(16px)';},1600); setTimeout(()=>t.remove(),2400); }

    // --- Save / Load / Export / Import ---
    function saveState(){ localStorage.setItem(SAVE_KEY, JSON.stringify(state)); document.getElementById('saveBtn').textContent='Saved'; setTimeout(()=>document.getElementById('saveBtn').textContent='Save',900); }
    const saveStateDebounced = debounce(saveState,800);
    function loadState(){ try{ const raw = localStorage.getItem(SAVE_KEY); if(!raw) return; state = Object.assign(state, JSON.parse(raw)); renderAll(); }catch(e){console.error(e);} }
    function exportSave(){ const data = btoa(unescape(encodeURIComponent(JSON.stringify({state, ALL_UPGRADES})))); navigator.clipboard?.writeText(data).then(()=>toast('Export copied to clipboard')); const blob = new Blob([JSON.stringify({state, ALL_UPGRADES},null,2)],{type:'application/json'}); const a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='rocket_save.json'; a.click(); URL.revokeObjectURL(a.href); }
    function importSave(){ const txt = prompt('Paste exported save string (base64) or raw JSON'); if(!txt) return; try{ let parsed; if(/^[A-Za-z0-9+/=]+$/.test(txt.trim())) parsed = JSON.parse(decodeURIComponent(escape(atob(txt.trim())))); else parsed = JSON.parse(txt); if(parsed.state) state = parsed.state; if(parsed.ALL_UPGRADES) { /* replace costs so UI matches */ for(let i=0;i<ALL_UPGRADES.length;i++){ if(parsed.ALL_UPGRADES[i] && parsed.ALL_UPGRADES[i].cost) ALL_UPGRADES[i].cost = parsed.ALL_UPGRADES[i].cost; } } saveState(); renderAll(); renderUpgrades(); toast('Imported save'); }catch(e){alert('Invalid import');} }

    document.getElementById('saveBtn').addEventListener('click', saveState);
    document.getElementById('exportBtn').addEventListener('click', exportSave);
    document.getElementById('importBtn').addEventListener('click', importSave);

    // debounce helper
    function debounce(fn, ms){ let t; return function(){ clearTimeout(t); t=setTimeout(()=>fn.apply(this,arguments),ms); } }

    // load on start
    loadState(); renderUpgrades(); renderAll();

  </script>
</body>
</html>
